{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport './css/styles.css';\n\nconst API_KEY = 'YOUR_PIXABAY_API_KEY';\nconst API_URL = 'https://pixabay.com/api/';\n\nconst form = document.getElementById('search-form');\nconst gallery = document.getElementById('gallery');\nconst loadingIndicator = document.getElementById('loading-indicator');\n\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n  event.preventDefault();\n  const query = event.target.query.value.trim();\n  if (query) {\n    fetchImages(query);\n  } else {\n    iziToast.error({ title: 'Error', message: 'Please enter a search query' });\n  }\n}\n\nasync function fetchImages(query) {\n  showLoading();\n  clearGallery();\n  try {\n    const response = await axios.get(API_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    });\n\n    if (response.data.hits.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    } else {\n      renderGallery(response.data.hits);\n    }\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Something went wrong. Please try again later.',\n    });\n  } finally {\n    hideLoading();\n  }\n}\n\nfunction renderGallery(images) {\n  const markup = images\n    .map(\n      image => `\n    <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\"/>\n      <div class=\"info\">\n        <p><b>Likes:</b> ${image.likes}</p>\n        <p><b>Views:</b> ${image.views}</p>\n        <p><b>Comments:</b> ${image.comments}</p>\n        <p><b>Downloads:</b> ${image.downloads}</p>\n      </div>\n    </a>\n  `\n    )\n    .join('');\n  gallery.innerHTML = markup;\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction showLoading() {\n  loadingIndicator.style.display = 'block';\n}\n\nfunction hideLoading() {\n  loadingIndicator.style.display = 'none';\n}\n"],"names":["API_KEY","API_URL","form","gallery","loadingIndicator","onSearch","event","query","fetchImages","iziToast","showLoading","clearGallery","response","axios","renderGallery","hideLoading","images","markup","image","SimpleLightbox"],"mappings":"+vBAMA,MAAMA,EAAU,uBACVC,EAAU,2BAEVC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAmB,SAAS,eAAe,mBAAmB,EAEpEF,EAAK,iBAAiB,SAAUG,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,OAAO,MAAM,MAAM,OACnCC,EACFC,EAAYD,CAAK,EAEjBE,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,6BAA6B,CAAE,CAE7E,CAEA,eAAeD,EAAYD,EAAO,CAChCG,IACAC,IACA,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAM,IAAIZ,EAAS,CACxC,OAAQ,CACN,IAAKD,EACL,EAAGO,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EAEGK,EAAS,KAAK,KAAK,SAAW,EAChCH,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,EAEDK,EAAcF,EAAS,KAAK,IAAI,CAEnC,MAAe,CACdH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACf,CAAK,CACL,QAAY,CACRM,GACD,CACH,CAEA,SAASD,EAAcE,EAAQ,CAC7B,MAAMC,EAASD,EACZ,IACCE,GAAS;AAAA,eACAA,EAAM,aAAa;AAAA,kBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,2BAE7BA,EAAM,KAAK;AAAA,2BACXA,EAAM,KAAK;AAAA,8BACRA,EAAM,QAAQ;AAAA,+BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAIzC,EACA,KAAK,EAAE,EACVf,EAAQ,UAAYc,EACH,IAAIE,EAAe,YAAY,EACvC,QAAO,CAClB,CAEA,SAASR,GAAe,CACtBR,EAAQ,UAAY,EACtB,CAEA,SAASO,GAAc,CACrBN,EAAiB,MAAM,QAAU,OACnC,CAEA,SAASW,GAAc,CACrBX,EAAiB,MAAM,QAAU,MACnC"}